package pgn

import (
	"testing"
)

func TestPgn(t *testing.T) {
	var game, err = ParseGame(testGame)
	if err != nil {
		t.Fatal(err)
	}
	t.Log(game)
}

var testGame = GameRaw{
	Tags: []Tag{
		{"Result", "1-0"},
	},
	BodyRaw: "1. c3 {book} h5 {book} 2. h3 {book} Nc6 {book} 3. e3 {book} e5 {book} 4. d3 {book} b6 {book} 5. d4 {+0.06/8} e4 {+0.09/9} 6. c4 {+0.00/8} Bb4+ {-0.07/8} 7. Bd2 {+0.17/10} Nf6 {-0.29/10} 8. d5 {+0.41/11} Bxd2+ {-0.48/11} 9. Nxd2 {+0.66/11} Ne5 {-0.67/11} 10. Qc2 {+0.67/10} d6 {-0.65/11} 11. Nxe4 {+0.49/11} Bf5 {-0.47/12} 12. Nxd6+ {+0.29/13} Qxd6 {+0.14/13} 13. Qxf5 {+0.07/13} Qb4+ {+0.33/13} 14. Kd1 {-0.27/12} Nxc4 {+0.21/12} 15. Bxc4 {+0.13/13} Qxc4 {-0.13/12} 16. Rc1 {+0.26/12} Qxd5+ {+0.05/12} 17. Qxd5 {+0.00/13} Nxd5 {-0.03/12} 18. Ke2 {+0.03/11} O-O-O {-0.05/11} 19. Nf3 {+0.04/11} Rhe8 {+0.00/10} 20. Rc4 {+0.00/10} Kb7 {+0.00/9} 21. Rhc1 {+0.08/10} c5 {+0.03/9} 22. a3 {-0.01/9} f6 {+0.06/9} 23. Nd2 {-0.07/9} Re5 {-0.06/9} 24. Re4 {+0.08/10} Rxe4 {-0.23/10} 25. Nxe4 {+0.30/11} h4 {-0.30/10} 26. Kf3 {+0.36/11} Kc6 {-0.33/11} 27. Kg4 {+0.33/10} Rh8 {-0.48/10} 28. Nd2 {+0.64/10} g5 {-0.46/10} 29. Kf5 {+0.71/10} Re8 {-1.04/10} 30. Nf3 {+0.87/11} Kb5 {-0.79/10} 31. Rc2 {+1.07/10} Kc6 {-1.35/10} 32. e4 {+1.51/11} Nc7 {-1.42/11} 33. Kxf6 {+1.71/11} Rxe4 {-1.96/12} 34. Rd2 {+1.96/11} Re8 {-2.03/11} 35. Ne5+ {+2.27/12} Kb5 {-2.60/13} 36. Ng6 {+2.66/12} Re4 {-2.66/11} 37. Kxg5 {+3.12/12} Ne6+ {-3.32/12} 38. Kf5 {+3.37/13} Re1 {-3.44/12} 39. f4 {+3.35/12} Nd4+ {-3.45/11} 40. Kg5 {+3.55/11} Rf1 {-3.55/11} 41. Kxh4 {+3.62/12} Kc4 {-3.71/11} 42. Kg5 {+3.82/12} Kd5 {-3.39/12} 43. g4 {+3.39/12} Ke4 {-3.20/13} 44. Kf6 {+3.27/13} Ke3 {-3.27/13} 45. Rh2 {+3.45/13} Kf3 {-3.45/13} 46. f5 {+3.41/12} Rd1 {-3.39/12} 47. b3 {+3.42/12} Kg3 {-2.73/12} 48. Rb2 {+2.71/12} Kxh3 {-2.93/12} 49. g5 {+3.03/12} Rf1 {-3.13/13} 50. Ne7 {+3.06/13} Kg4 {-3.28/12} 51. g6 {+5.88/13} Nxf5 {-6.03/14} 52. Nxf5 {+6.23/16} Rxf5+ {-6.20/16} 53. Ke6 {+6.21/15} Rf8 {-6.28/15} 54. g7 {+6.08/14} Rg8 {-6.23/14} 55. Rc2 {+6.27/13} Kf3 {-6.31/13} 56. Kf7 {+6.36/14} Rd8 {-6.37/13} 57. g8=Q {+6.37/12} Rxg8 {-6.39/13} 58. Kxg8 {+6.31/12} Ke4 {-6.37/13} 59. Kg7 {+6.33/11} a6 {-6.34/12} 60. Kf6 {+6.25/10} Kd4 {-5.65/12} 61. Rc4+ {+5.55/12} Kd5 {-5.11/13} 62. Ra4 {+5.06/12} b5 {-4.90/14} 63. Rxa6 {+5.14/14} c4 {-5.09/14} 64. Ra5 {+5.69/13} Kd4 {-5.64/13} 65. Rxb5 {+8.01/14} cxb3 {-8.43/14} 66. Rxb3 {+15.63/15} Kc4 {-15.69/17} 67. Rb1 {+15.63/17} Kd5 {-16.99/18} 68. a4 {+16.99/17} Ke4 {-17.02/17} 69. a5 {+17.03/15} Kd3 {-17.17/15} 70. a6 {+17.12/15} Kc4 {-17.40/14} 71. a7 {+M6/17} Kc3 {-M5/18} 72. a8=Q {+M5/18} Kd3 {-M4/18} 73. Qd5+ {+M4/17} Ke3 {-M3/43} 74. Rb2 {+M3/53} Kf4 {-M2/127} 75. Rb3 {+M2/127} Kg4 {-M1/127} 76. Qg5# {+M1/127} 1-0",
}
